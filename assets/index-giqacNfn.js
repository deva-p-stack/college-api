(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();let E=document.getElementById("search"),i=document.getElementById("state"),p=document.getElementById("con");const f=document.getElementById("institution"),h="https://indian-colleges-list.vercel.app/api";let c=[];async function g(){try{const o=await fetch(`${h}/institutions/states`);if(!o.ok)throw new Error("Network response was not working");(await o.json()).states.forEach(t=>{let r=document.createElement("option");r.textContent=`${t.name}`,r.value=t.name,i.append(r)})}catch(o){console.error("Error fetching data:",o)}}g();async function m(o){try{const n=`https://indian-colleges-list.vercel.app/api/institutions/states/${o}`,t=await fetch(n);if(!t.ok)throw new Error("Network response was not ok");c=(await t.json()).data,l(c)}catch(n){console.error("Error fetching data:",n)}}async function y(o="Tamil Nadu",n="sona"){try{const t=`/api/api/institutions/search?state=${encodeURIComponent(o)}&q=${encodeURIComponent(n)}`,r=await fetch(t);if(!r.ok)throw new Error("Network response was not ok");const e=await r.json();console.log(e)}catch(t){console.error("Error fetching data:",t)}}y();function l(o){const n=document.createDocumentFragment();n.replaceChildren(),p.innerHTML="",o.forEach(t=>{const r=document.createElement("div");r.className="bg-blue-300 w-full sm:w-87.5 min-h-50 space-y-2 rounded-lg shadow-lg p-5 flex flex-col content-center border border-white/20";const e=document.createElement("h3");e.className="font-semibold text-lg text-center",e.textContent=t.institute_name;const s=document.createElement("p");s.textContent=`Institutes Type: ${t.institution_type}`;const a=document.createElement("p");a.textContent=`State: ${t.state}`;const d=document.createElement("p");d.textContent=`District: ${t.district}`;const u=document.createElement("p");u.textContent=`Address: ${t.address}`,r.append(e,s,a,d,u),n.append(r)}),p.append(n)}i.addEventListener("change",function(){m(i.value)});f.addEventListener("change",()=>{let o=f.value;if(o==="All")l(c);else{const n=c.filter(t=>t.institution_type===o);l(n)}});E.addEventListener("input",function(){m()});
