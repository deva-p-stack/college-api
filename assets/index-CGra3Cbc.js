(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))p(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&p(c)}).observe(document,{childList:!0,subtree:!0});function u(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(t){if(t.ep)return;t.ep=!0;const n=u(t);fetch(t.href,n)}})();document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("district");let l=document.getElementById("search"),u=document.getElementById("state"),p=document.getElementById("con");const t=document.getElementById("institution"),n="https://indian-colleges-list.vercel.app/api";let c=[];async function y(){try{const o=await fetch(`${n}/institutions/states`);if(!o.ok)throw new Error("Network response was not working");(await o.json()).states.forEach(e=>{let s=document.createElement("option");s.textContent=`${e.name}`,s.value=e.name,u.append(s)})}catch(o){console.error("Error fetching data:",o)}}y();async function E(o){try{const r=`https://indian-colleges-list.vercel.app/api/institutions/states/${o}`,e=await fetch(r);if(!e.ok)throw new Error("Network response was not ok");c=(await e.json()).data,console.log(c),f(c),m.innerHTML="",[...new Set(c.map(i=>i.district))].forEach(i=>{let d=document.createElement("option");d.textContent=i,d.value=i,m.append(d)})}catch(r){console.error("Error fetching data:",r)}}async function w(o="Tamil Nadu",r="sona"){try{const e=`/api/api/institutions/search?state=${encodeURIComponent(o)}&q=${encodeURIComponent(r)}`,s=await fetch(e);if(!s.ok)throw new Error("Network response was not ok");const a=await s.json();console.log(a)}catch(e){console.error("Error fetching data:",e)}}w();function f(o){const r=document.createDocumentFragment();r.replaceChildren(),p.innerHTML="",o.forEach(e=>{const s=document.createElement("div");s.className="bg-blue-300 w-full sm:w-87.5 min-h-50 space-y-2 rounded-lg shadow-lg p-5 flex flex-col content-center border border-white/20";const a=document.createElement("h3");a.className="font-semibold text-lg text-center",a.textContent=e.institute_name;const i=document.createElement("p");i.textContent=`Institutes Type: ${e.institution_type}`;const d=document.createElement("p");d.textContent=`State: ${e.state}`;const h=document.createElement("p");h.textContent=`District: ${e.district}`;const g=document.createElement("p");g.textContent=`Address: ${e.address}`,s.append(a,i,d,h,g),r.append(s)}),p.append(r)}u.addEventListener("change",function(){E(u.value)}),t.addEventListener("change",()=>{let o=t.value;if(o==="All")f(c);else{const r=c.filter(e=>e.institution_type===o);f(r)}}),l.addEventListener("input",function(){E()})});
